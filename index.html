<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Autumn Adventures in Yorkshire Farms 2025 ğŸ‚</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><text y='0.9em' font-size='80'>ğŸ</text></svg>">
<style>
  :root{
    --bg:#fff9f3;
    --card:#ffffff;
    --ink:#2e1a1b;
    --accent:#7b2c2f;     /* burgundy */
    --accent2:#c58f00;    /* mustard */
    --done:#dff3df;
    --muted:#6b5a5a;
    --safe:#efe7ff;
    --safeText:#3b2d7a;
    --outline:#e6d8c9;
    --fb:#1877F2;
  }
  html,body{margin:0;height:100%;background:var(--bg);color:var(--ink);
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Inter,Helvetica,Arial,sans-serif;}
  .banner{background: linear-gradient(90deg, var(--accent), #a34535); color: white; text-align:center; padding: 40px 20px;}
  .banner h1{font-size: clamp(1.8rem, 4vw, 2.8rem); margin:0;}
  .banner p{font-size:1.1rem; margin:10px 0 20px;}
  .banner button{background:white; color:var(--accent); border:none; border-radius:999px; padding:10px 20px; font-weight:700; cursor:pointer; box-shadow:0 4px 10px rgba(0,0,0,.2);}
  .wrap{max-width:1100px; margin:0 auto; padding:20px 16px 48px;}
  h2{color:#4a2a2a; margin-top:22px;}
  .toolbar, .levels, .session{display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin:10px 0 20px;}
  button{border:none; border-radius:999px; padding:10px 16px; font-weight:700; background:var(--accent); color:#fff; box-shadow:0 3px 0 rgba(0,0,0,.12); cursor:pointer;}
  button.secondary{background:var(--accent2); color:#1b1200;}
  button.ghost{background:transparent; color:var(--ink); border:2px solid var(--ink);}
  input[type="text"]{padding:10px 12px; border-radius:10px; border:1px solid var(--outline); min-width:220px; font-size:1rem;}
  .levels button{background:#f1e9da; color:#5a4630;} .levels button.active{background:#5a4630; color:#fff;}
  .progress{height:14px; background:#f0e6d7; border-radius:999px; overflow:hidden; margin:10px auto 8px; max-width:760px;}
  .bar{height:100%; width:0%; background:linear-gradient(90deg,var(--accent2),#ffd166); transition:width .25s ease;}
  .pct{text-align:center; font-weight:700; margin-bottom:14px;}
  .grid{display:grid; gap:12px; grid-template-columns:repeat(auto-fill,minmax(260px,1fr));}
  .card{background:var(--card); border-radius:16px; padding:14px; box-shadow:0 6px 16px rgba(0,0,0,.08); display:grid; grid-template-columns:52px 1fr 32px; gap:12px; min-height:88px; transition:transform .08s ease, background .2s ease, box-shadow .2s ease; text-align:left; border: 1px solid var(--outline);}
  .card:active{transform:scale(.98);} .icon{font-size:40px; line-height:1; display:flex; align-items:center; justify-content:center;}
  .txt{ font-size:1.05rem; font-weight:800; } .desc{ font-size:.95rem; color:var(--muted); margin-top:4px; line-height:1.3; }
  .tag{ display:inline-block; font-size:.75rem; background:#efe8dc; color:#4a3a2a; padding:3px 8px; border-radius:999px; margin-top:6px; }
  .check{width:28px; height:28px; border-radius:8px; border:2px solid #8c5a00; display:grid; place-items:center; font-size:20px; background:#fff6ea; align-self:center;}
  .card.done{background:var(--done); opacity:.97;} .card.done .check{background:#b6efb0; border-color:#2e7d32;}
  .tips{text-align:center; color:#665; margin-top:10px;} footer{margin-top:30px; text-align:center; font-size:.9rem; color:#6b5a5a;}
  .safety{background: var(--safe); color: var(--safeText); border-left: 6px solid #6a4cff; margin: 0 0 14px 0; padding: 12px 14px; font-weight:600;}
  .hide{display:none !important;}
  /* Modal */
  .modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.4); z-index:999;}
  .modal .panel{background:#fff; border-radius:16px; padding:22px; max-width:560px; width:92%; text-align:center; box-shadow:0 16px 40px rgba(0,0,0,.25);}
  .panel h3{margin:8px 0 6px; color:var(--accent); font-size:1.6rem;}
  .panel p{margin:6px 0 12px; color:#4a2a2a;} .board{display:grid; grid-template-columns: 1fr 1fr; gap:16px; margin-top:10px;}
  .board .cardish{border:1px solid var(--outline); border-radius:12px; padding:12px; text-align:left;} .board h4{margin:0 0 8px 0; color:#4a2a2a;}
  .board ol{margin:0; padding-left:18px;} .close{margin-top:10px;} .gallery{display:grid; grid-template-columns:repeat(auto-fill, minmax(140px,1fr)); gap:10px; margin-top:10px;}
  .gallery img{width:100%; height:120px; object-fit:cover; border-radius:10px; border:1px solid var(--outline);} .note{font-size:.9rem; color:#6b5a5a;}
  /* Facebook share strip */
  .fb-strip{display:flex; align-items:center; gap:10px; justify-content:center; background:#eef4ff; border:1px solid #cfe0ff; padding:10px 12px; border-radius:12px; margin-top:10px;}
  .fb-icon{width:20px; height:20px; display:grid; place-items:center; background:var(--fb); color:#fff; border-radius:4px; font-weight:900; font-family:Arial, Helvetica, sans-serif;}
  .fb-link{color:var(--fb); font-weight:800; text-decoration:none;} .fb-link:hover{text-decoration:underline;}
  /* Bottom decorations */
  .divider{margin:28px auto 18px; text-align:center; opacity:.75; font-size:1.2rem; letter-spacing:.25rem;}
  .thanks{ margin: 0 auto 40px; max-width: 900px; text-align:center; background: #fff; border: 2px solid var(--accent2); border-radius: 14px; padding: 16px 14px; box-shadow: 0 8px 20px rgba(0,0,0,.05); }
  .thanks .line1{font-weight:800; color:var(--accent); font-size:1.05rem; margin-bottom:6px;}
  .thanks .line2{color:#4a2a2a;}
</style>
</head>
<body>
<div class="banner">
  <h1>ğŸ§¡ Autumn Adventures in Yorkshire Farms 2025 ğŸ‚</h1>
  <p>Explore, find, and have fun together during our neighborhood scavenger hunt!</p>
  <button onclick="document.getElementById('start').scrollIntoView({behavior:'smooth'})">Start the Hunt ğŸƒ</button>
</div>

<div class="wrap" id="start">
  <div class="safety">
    Safety Tips: Go with a buddy/adult â€¢ Be kind to pets (ask before approaching) â€¢ Look, donâ€™t touch real webs or wildlife
  </div>

  <!-- Session controls -->
  <div class="session">
    <input id="team" type="text" placeholder="Team / Family name (optional)">
    <button id="startSession" class="secondary">Start Session â–¶ï¸</button>
    <button id="finishSession" class="ghost">Finish / See Scoreboard ğŸ</button>
  </div>

  <div class="toolbar">
    <button id="reset">Reset Checklist â™»ï¸</button>
    <button id="share" class="secondary">Share Progress ğŸ”—</button>
    <button id="big" class="ghost">Bigger Text ğŸ”</button>
  </div>

  <div class="levels" aria-label="Difficulty filters">
    <button class="active" data-filter="all">All Ages</button>
    <button data-filter="easy">Easy (ages ~3â€“6)</button>
    <button data-filter="medium">Medium (ages ~7â€“12)</button>
    <button data-filter="teens">Teens (ages 12â€“17)</button>
  </div>

  <div class="progress"><div class="bar" id="bar"></div></div>
  <div class="pct"><span id="count">0</span>/<span id="total">0</span> found</div>

  <h2>ğŸŒ³ Nature & Outdoor Finds</h2>
  <div class="grid" id="nature"></div>

  <h2>ğŸ¡ Neighborhood DÃ©cor & Festive Finds</h2>
  <div class="grid" id="decor"></div>

  <h2>ğŸ“¸ Photo Challenges (Upload your pics!)</h2>
  <div class="grid" id="photo"></div>
  <div class="session" style="margin-top:6px;">
    <input type="file" id="uploader" accept="image/*" multiple>
    <button id="saveGallery" class="secondary">Save Photos to Gallery</button>
  </div>

  <!-- Facebook sharing encouragement line -->
  <div class="fb-strip" role="note" aria-label="Share photos to Facebook">
    <span class="fb-icon" aria-hidden="true">f</span>
    <a class="fb-link" href="https://www.facebook.com/share/g/1BpSmWSSUC/?mibextid=wwXIfr" target="_blank" rel="noopener">Post your photos on our Yorkshire Farms Facebook Group!</a>
  </div>

  <div class="gallery" id="gallery"></div>
  <div class="note">Photos are stored only on this device using your browser (localStorage). To protect space, max 12 images are saved.</div>

  <h2>ğŸ§º Bonus Hidden Treasures</h2>
  <div class="grid" id="bonus"></div>

  <p class="tips">Tip: Parents can hide mini pumpkins, stickers, or glow sticks near a few items for extra fun! ğŸ‰</p>
  <footer>Yorkshire Farms Neighborhood â€¢ Happy Autumn, Yâ€™all! ğŸğŸ‘»</footer>
</div>

<!-- Bottom: leaf divider + thank-you banner -->
<div class="divider" aria-hidden="true">ğŸ ğŸ‚ ğŸƒ ğŸ ğŸ‚ ğŸƒ ğŸ ğŸ‚ ğŸƒ</div>
<div class="thanks" role="note" aria-label="Final interactive page confirmation">
  <div class="line1">ğŸ‚ Thanks for joining the Yorkshire Farms Fall Fun Hunt!</div>
  <div class="line2">ğŸƒ We hope you had a spook-tacular time!</div>
</div>

<!-- Completion / Scoreboard Modal -->
<div class="modal" id="modal">
  <div class="panel">
    <h3>ğŸ‰ Great job!</h3>
    <p id="summary">You finished the hunt!</p>
    <div class="board">
      <div class="cardish">
        <h4>â±ï¸ Fastest Times</h4>
        <ol id="fastest"></ol>
      </div>
      <div class="cardish">
        <h4>ğŸ† Most Items Found</h4>
        <ol id="most"></ol>
      </div>
    </div>
    <button class="close" id="closeModal">Close</button>
  </div>
</div>

<script>
// ---- Data ----
const DATA = {
  nature: [
    {icon:"ğŸ", text:"A leaf thatâ€™s turning colors", desc:"Red, yellow, or orange â€” a tiny flag waving â€œHello, Fall!â€", level:"easy"},
    {icon:"ğŸ‚", text:"A crunchy leaf", desc:"Step on it and listen â€” crunch! Natureâ€™s sound effect.", level:"easy"},
    {icon:"ğŸŒ°", text:"A pinecone or acorn", desc:"Squirrels are stocking up â€” can you find their snack?", level:"medium"},
    {icon:"ğŸªµ", text:"A small stick shaped like a letter", desc:"Does it look like a Y, L, or T? Maybe a secret forest letter!", level:"medium"},
    {icon:"ğŸª¨", text:"A smooth rock or pebble", desc:"Shiny like treasure by a driveway or mailbox.", level:"easy"},
    {icon:"ğŸŒ¼", text:"A fall flower (like a mum)", desc:"Brave blossoms still showing color â€” say hi!", level:"easy"},
    {icon:"ğŸƒ", text:"A leaf with cool patterns", desc:"Look for spots, stripes, or swirls â€” natureâ€™s artwork.", level:"medium"},
    {icon:"ğŸ¦", text:"A bird on a fence, tree, or roof", desc:"Tweet, tweet! They might be singing about fall.", level:"medium"},
    /* Teens */
    {icon:"ğŸ§­", text:"Find the longest shadow", desc:"Near sunset, line up a photo of the longest person or object shadow you can find.", level:"teens"},
    {icon:"ğŸ“", text:"Estimate a treeâ€™s height", desc:"Use pacing: count steps from trunk to where the top lines up at a 45Â° arm angle; 1 step â‰ˆ 2.5 ft. Whatâ€™s your estimate?", level:"teens"}
  ],
  decor: [
    {icon:"ğŸƒ", text:"A pumpkin or gourd", desc:"Round, bumpy, tiny, or tall â€” porch pumpkins count!", level:"easy"},
    {icon:"ğŸ‘»", text:"A Halloween decoration", desc:"A friendly ghost, witch, or skeleton saying boo!", level:"easy"},
    {icon:"ğŸ’¡", text:"Orange or yellow lights", desc:"A house glowing with autumn cheer.", level:"easy"},
    {icon:"ğŸŒ»", text:"A wreath of leaves, twigs, or flowers", desc:"A crown for the door â€” fancy!", level:"medium"},
    {icon:"ğŸ•¸ï¸", text:"A spider web (real or fake)", desc:"Sparkly in the sun â€” but be gentle and look, donâ€™t touch.", level:"medium"},
    {icon:"ğŸ·ï¸", text:"A fall sign or flag", desc:"â€œWelcome Fallâ€ or â€œHappy Halloweenâ€ â€” what does it say?", level:"medium"},
    {icon:"ğŸ§º", text:"A doormat with fall colors", desc:"Orange, gold, or plaid patterns welcome you in.", level:"easy"},
    {icon:"ğŸ¾", text:"A pet in a window or yard", desc:"Wave hello from a distance â€” happy tails and whiskers!", level:"easy"},
    /* Teens */
    {icon:"ğŸ”¤", text:"Spell FALL from the neighborhood", desc:"Snap letters F-A-L-L found on signs, house numbers, or license plates â€” collage counts.", level:"teens"},
    {icon:"ğŸ§©", text:"Pattern hunter", desc:"Find and photograph a repeating fall pattern (plaids, leaf garlands, fence pickets).", level:"teens"}
  ],
  photo: [
    {icon:"ğŸ“¸", text:"Selfie with your favorite leaf", desc:"Hold it up like a medal â€” champions of fall!", level:"easy"},
    {icon:"ğŸ¡", text:"Snap a house with a wreath", desc:"Find the prettiest door crown on the street.", level:"medium"},
    {icon:"ğŸ–ï¸", text:"Group high-five at the finish", desc:"Everyone in â€” 3, 2, 1â€¦ SLAP! You did it!", level:"easy"},
    {icon:"ğŸ•¯ï¸", text:"Twilight glow photo", desc:"Capture the cozy lights when the sun starts to set.", level:"medium"},
    /* Teens */
    {icon:"ğŸ§‘â€ğŸ¤â€ğŸ§‘", text:"Creative perspective pic", desc:"Forced perspective challenge: pinch the moon, hold a tiny pumpkin, or â€˜sitâ€™ on the curb.", level:"teens"},
    {icon:"ğŸï¸", text:"Mini montage", desc:"Take 3 photos that tell a cozy fall story and show them in your gallery.", level:"teens"}
  ],
  bonus: [
    {icon:"ğŸ", text:"Something that smells like apples or cinnamon", desc:"Follow your nose â€” cider, candles, or treats!", level:"medium"},
    {icon:"ğŸª", text:"A fall snack or treat (hidden by adults)", desc:"Tiny treasure bags for happy hunters.", level:"easy"},
    {icon:"âœ¨", text:"Something shiny or gold", desc:"A wrapper, ribbon, or trinket twinkling back at you.", level:"easy"},
    {icon:"â¤ï¸", text:"A nature shape (heart, star, or circle)", desc:"Look in leaves, rocks, or clouds â€” surprise shapes!", level:"medium"},
    {icon:"ğŸ”¶", text:"Something orange thatâ€™s not a pumpkin", desc:"A toy, chalk, flower, or leaf â€” orange everywhere!", level:"easy"},
    /* Teens */
    {icon:"ğŸ§¹", text:"One-good-deed cleanup", desc:"Pick up a small piece of litter (ask an adult for a glove/bag) and snap before/after.", level:"teens"},
    {icon:"ğŸ—ºï¸", text:"Map your route", desc:"Sketch or photo your route on a phone map at the end â€” how many blocks did you cover?", level:"teens"}
  ]
};

// ---- Helpers ----
function pill(level){
  const label = level === 'easy' ? 'Easy' : (level === 'medium' ? 'Medium' : 'Teens');
  return `<span class="tag">${label}</span>`;
}
function makeCard(item, idx, group){
  const el = document.createElement('button');
  el.className='card'; el.setAttribute('data-key', group+':'+idx); el.setAttribute('data-level', item.level);
  el.innerHTML=`<div class='icon'>${item.icon}</div>
                <div><div class='txt'>${item.text}</div><div class='desc'>${item.desc}</div>${pill(item.level)}</div>
                <div class='check'>â˜</div>`;
  el.addEventListener('click',()=>toggle(el)); return el;
}
function mount(id, arr, group){ const root=document.getElementById(id); arr.forEach((it,i)=>root.appendChild(makeCard(it,i,group))); }
mount('nature',DATA.nature,'nature'); mount('decor',DATA.decor,'decor'); mount('photo',DATA.photo,'photo'); mount('bonus',DATA.bonus,'bonus');

// ---- State ----
const KEY='yf-final-v4teens-progress', KEY_LEAD='yf-final-v4teens-leaderboard', KEY_GAL='yf-final-v4teens-gallery';
function load(key, fallback){ try{return JSON.parse(localStorage.getItem(key)||JSON.stringify(fallback));}catch(e){return fallback;} }
function save(key, val){ localStorage.setItem(key, JSON.stringify(val)); }
function applyState(){
  const s = load(KEY, {});
  document.querySelectorAll('.card').forEach(el => {
    const k = el.getAttribute('data-key'); const done = !!s[k];
    el.classList.toggle('done', done); el.querySelector('.check').textContent = done ? 'âœ…' : 'â˜';
  });
  updateProgress();
}

// Progress & completion
function visibleCards(){ return [...document.querySelectorAll('.card')].filter(c=>!c.classList.contains('hide')); }
function updateProgress(){
  const cards = visibleCards(); const done = cards.filter(c => c.classList.contains('done')).length; const total = cards.length;
  document.getElementById('count').textContent = done; document.getElementById('total').textContent = total;
  document.getElementById('bar').style.width = (done/Math.max(1,total)*100)+'%';
  if(window.sessionStarted && total>0 && done === total){ finishSession(); }
}
function toggle(el){
  const s = load(KEY, {}); const k = el.getAttribute('data-key'); const was = !!s[k];
  s[k] = !was; save(KEY, s); el.classList.toggle('done', !was); el.querySelector('.check').textContent = !was ? 'âœ…' : 'â˜'; updateProgress();
}

// Filters
const levelButtons = document.querySelectorAll('.levels button');
levelButtons.forEach(btn => btn.addEventListener('click', () => {
  levelButtons.forEach(b => b.classList.remove('active')); btn.classList.add('active');
  const filter = btn.getAttribute('data-filter');
  document.querySelectorAll('.card').forEach(card => {
    const lv = card.getAttribute('data-level');
    if(filter === 'all' || filter === lv) card.classList.remove('hide'); else card.classList.add('hide');
  });
  updateProgress();
}));

// Reset & share & zoom
document.getElementById('reset').addEventListener('click', () => { localStorage.removeItem(KEY); applyState(); });
document.getElementById('big').addEventListener('click', () => {
  document.querySelectorAll('.txt').forEach(t => t.style.fontSize = '1.25rem');
  document.querySelectorAll('.icon').forEach(i => i.style.fontSize = '48px');
  document.querySelectorAll('.desc').forEach(d => d.style.fontSize = '1.05rem');
});
document.getElementById('share').addEventListener('click', async () => {
  const cards = visibleCards(); const found = cards.filter(c => c.classList.contains('done')).map(c => c.querySelector('.txt').textContent);
  const msg = `ğŸ‚ Autumn Adventures in Yorkshire Farms 2025 Progress: ${found.length}/${cards.length} found!` + (found.length? `\nâ€¢ `+found.join('\nâ€¢ ') : '');
  if(navigator.share){ try { await navigator.share({title:'Autumn Adventures in Yorkshire Farms 2025', text:msg}); } catch(e){ alert('Share canceled'); } }
  else { navigator.clipboard.writeText(msg); alert('Progress copied to clipboard!'); }
});

// Session + scoreboard
let sessionStart = null; let sessionName = ''; window.sessionStarted = false;
document.getElementById('startSession').addEventListener('click', () => {
  sessionName = (document.getElementById('team').value || 'Team').trim(); sessionStart = Date.now(); window.sessionStarted = true;
  alert(`Session started for ${sessionName}! Happy hunting ğŸ`);
});
document.getElementById('finishSession').addEventListener('click', finishSession);
function finishSession(){
  if(!window.sessionStarted){ openModal(false); return; }
  const elapsed = Date.now() - sessionStart; const mins = Math.floor(elapsed/60000); const secs = Math.floor((elapsed%60000)/1000);
  const cards = visibleCards(); const found = cards.filter(c => c.classList.contains('done')).length; const total = cards.length;
  const board = load(KEY_LEAD, {fastest:[], most:[]});
  board.fastest.push({name:sessionName, ms:elapsed, when:Date.now()}); board.most.push({name:sessionName, found, total, when:Date.now()});
  board.fastest.sort((a,b)=>a.ms-b.ms); board.most.sort((a,b)=> (b.found - a.found) || (a.total - b.total) );
  board.fastest = board.fastest.slice(0,5); board.most = board.most.slice(0,5); save(KEY_LEAD, board);
  openModal(true, `ğŸ‰ ${sessionName}, you finished ${found}/${total} in ${mins}m ${secs}s!`); window.sessionStarted = false; sessionStart = null;
}
function openModal(withSummary, summaryText){
  const modal = document.getElementById('modal'); modal.style.display = 'flex';
  document.getElementById('summary').textContent = withSummary ? summaryText : 'Scoreboard';
  const board = load(KEY_LEAD, {fastest:[], most:[]}); const fastest = document.getElementById('fastest'); const most = document.getElementById('most');
  fastest.innerHTML = ''; board.fastest.forEach(r => { const m=Math.floor(r.ms/60000), s=Math.floor((r.ms%60000)/1000); const li=document.createElement('li'); li.textContent = `${r.name}: ${m}m ${s}s`; fastest.appendChild(li); });
  most.innerHTML = ''; board.most.forEach(r => { const li=document.createElement('li'); li.textContent = `${r.name}: ${r.found}/${r.total} items`; most.appendChild(li); });
}
document.getElementById('closeModal').addEventListener('click', () => { document.getElementById('modal').style.display = 'none'; });

// Gallery uploads (local only)
const uploader = document.getElementById('uploader'); const saveGalleryBtn = document.getElementById('saveGallery'); const gallery = document.getElementById('gallery');
function renderGallery(){ const imgs = load(KEY_GAL, []); gallery.innerHTML=''; imgs.forEach(src => { const im = document.createElement('img'); im.src = src; gallery.appendChild(im); }); }
renderGallery();
saveGalleryBtn.addEventListener('click', async () => {
  const files = [...uploader.files]; if(!files.length){ alert('Choose photos first.'); return; }
  const existing = load(KEY_GAL, []);
  for(const f of files.slice(0, 12 - existing.length)){ const dataUrl = await fileToDataURL(f); existing.push(dataUrl); }
  if(existing.length > 12) existing.length = 12; save(KEY_GAL, existing); renderGallery(); uploader.value=''; alert('Photos saved to this deviceâ€™s gallery!');
});
function fileToDataURL(file){ return new Promise((res, rej) => { const r = new FileReader(); r.onload = () => res(r.result); r.onerror = rej; r.readAsDataURL(file); }); }

// Init
applyState();
</script>
</body>
</html>
