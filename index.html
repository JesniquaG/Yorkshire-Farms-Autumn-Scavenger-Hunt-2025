<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Yorkshire Farms ‚Ä¢ Autumn Scavenger Hunt 2025</title>
  <meta name="description" content="Interactive autumn scavenger hunt for the Yorkshire Farms neighborhood." />
  <style>
    :root { --bg:#fff8f0; --card:#ffffff; --ink:#2b2b2b; --accent:#b45309; --accent2:#047857; --muted:#6b7280; }
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif}
    .wrap{max-width:900px;margin:0 auto;padding:24px}
    header{display:flex;gap:16px;align-items:center;flex-wrap:wrap;margin-bottom:16px}
    .leaf{font-size:28px}
    h1{font-size:clamp(1.4rem,2.5vw,2rem);margin:0}
    .card{background:var(--card);border-radius:16px;box-shadow:0 6px 20px rgba(0,0,0,.06);padding:18px;margin:14px 0}
    .row{display:flex;gap:14px;flex-wrap:wrap}
    .grow{flex:1 1 260px}
    .hint{color:var(--muted);font-size:.95rem}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:10px;margin-top:10px}
    label.item{display:flex;gap:10px;align-items:flex-start;background:#fafafa;border:1px solid #eee;border-radius:12px;padding:10px;cursor:pointer}
    label.item input{margin-top:4px;transform:scale(1.2)}
    .pill{display:inline-flex;gap:8px;align-items:center;background:#fff;border:1px solid #eee;border-radius:999px;padding:8px 12px}
    .btn{appearance:none;border:0;border-radius:12px;padding:10px 14px;background:var(--accent);color:#fff;font-weight:600;cursor:pointer}
    .btn.secondary{background:var(--accent2)}
    .btn.link{background:transparent;color:var(--accent);border:1px solid var(--accent)}
    progress{width:100%;height:14px;border:0;border-radius:999px}
    progress::-webkit-progress-bar{background:#f1f5f9;border-radius:999px}
    progress::-webkit-progress-value{background:linear-gradient(90deg,var(--accent),#eab308);border-radius:999px}
    .footer{color:var(--muted);font-size:.9rem;text-align:center;margin-top:18px}
    .age-tabs{display:flex;gap:8px;flex-wrap:wrap}
    .age-tabs button{border:1px solid #ddd;background:#fff;border-radius:999px;padding:8px 12px;cursor:pointer}
    .age-tabs button.active{background:var(--accent);color:#fff;border-color:var(--accent)}
    .share{display:flex;gap:10px;flex-wrap:wrap}
    .sr-only{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="leaf">üçÇ</div>
      <div>
        <h1>Yorkshire Farms ‚Äî Autumn Scavenger Hunt 2025</h1>
        <div class="hint">Tap to check items as you find them. Progress saves in your browser.</div>
      </div>
    </header>

    <section class="card">
      <div class="row">
        <div class="grow">
          <div class="pill"><span id="progressCount">0</span>/<span id="totalCount">0</span> found</div>
          <progress id="progressBar" value="0" max="100" aria-label="Progress"></progress>
        </div>
        <div class="share">
          <button class="btn" id="shareBtn">Share This Hunt</button>
          <button class="btn secondary" id="installBtn" style="display:none">Add to Home Screen</button>
          <button class="btn link" id="resetBtn">Reset Progress</button>
        </div>
      </div>
    </section>

    <section class="card">
      <h2 style="margin:0 0 8px">Choose your list</h2>
      <div class="age-tabs" id="ageTabs" role="tablist" aria-label="Age lists">
        <button class="active" role="tab" aria-selected="true" data-list="kids">Ages 5‚Äì8</button>
        <button role="tab" aria-selected="false" data-list="preteen">Ages 9‚Äì11</button>
        <button role="tab" aria-selected="false" data-list="teens">Ages 12‚Äì17</button>
      </div>
      <p class="hint" style="margin:8px 0 0">Switching lists keeps separate progress for each age group.</p>
    </section>

    <section class="card">
      <h2 style="margin:0 0 8px">Your items</h2>
      <div id="items" class="grid" aria-live="polite"></div>
    </section>

    <section class="card">
      <h2 style="margin:0 0 8px">Quick Info</h2>
      <ul style="margin:0 0 8px 18px">
        <li>Be kind to neighbors‚Äô yards and pets.</li>
        <li>Stay with your group; younger kids need an adult.</li>
        <li>Use crosswalks and watch for cars at intersections.</li>
      </ul>
      <p class="hint">Organizers can customize this text right in <code>index.html</code>.</p>
    </section>

    <p class="footer">¬© 2025 Yorkshire Farms Neighborhood ‚Ä¢ This is a community activity page hosted on GitHub Pages.</p>
  </div>

  <script>
    // --- CONFIG: edit these lists for each age group ---
    const LISTS = {
      kids: [
        "Orange leaf bigger than your hand",
        "Squirrel on a fence or tree",
        "Decorated mailbox (stickers, bows, or wreath)",
        "Pumpkin on a porch",
        "House number with the digit 7",
        "Yard sign with a friendly message",
        "Wind chimes",
        "Front door mat with words"
      ],
      preteen: [
        "Spider web d√©cor (real or fake!)",
        "A mailbox with a flag up",
        "A bird feeder",
        "Cornstalk or hay bale",
        "Door with a fall wreath",
        "Porch with two+ pumpkins",
        "Welcome sign taller than your knee",
        "House with solar lights"
      ],
      teens: [
        "Street name with a double letter",
        "House with string lights",
        "Window silhouette d√©cor",
        "DIY lawn decoration",
        "Creative mailbox art",
        "Chalk drawing on a driveway",
        "Inflatable decoration",
        "A yard featuring school/team pride"
      ]
    };

    // --- simple state per list in localStorage ---
    const elItems = document.getElementById('items');
    const elBar = document.getElementById('progressBar');
    const elPC = document.getElementById('progressCount');
    const elTC = document.getElementById('totalCount');
    const tabs = document.getElementById('ageTabs');
    const shareBtn = document.getElementById('shareBtn');
    const resetBtn = document.getElementById('resetBtn');
    let currentList = localStorage.getItem('yf.list') || 'kids';

    function keyFor(list){ return `yf.${list}.checked`; }

    function loadChecked(list){
      try { return JSON.parse(localStorage.getItem(keyFor(list))||'[]'); }
      catch { return []; }
    }
    function saveChecked(list, arr){
      localStorage.setItem(keyFor(list), JSON.stringify(arr));
    }

    function render(list){
      currentList = list;
      localStorage.setItem('yf.list', list);
      elItems.innerHTML = '';
      const items = LISTS[list] || [];
      const checked = new Set(loadChecked(list));
      elTC.textContent = items.length.toString();
      items.forEach((text, i)=>{
        const id = `item-${list}-${i}`;
        const wrap = document.createElement('label');
        wrap.className = 'item';
        wrap.setAttribute('for', id);
        wrap.innerHTML = `
          <input id="${id}" type="checkbox" ${checked.has(i)?'checked':''} />
          <div>
            <div><strong>${text}</strong></div>
            <div class="hint">Tap to toggle</div>
          </div>`;
        elItems.appendChild(wrap);
        wrap.querySelector('input').addEventListener('change', e=>{
          const arr = loadChecked(list);
          const idx = arr.indexOf(i);
          if(e.target.checked && idx===-1) arr.push(i);
          if(!e.target.checked && idx>-1) arr.splice(idx,1);
          saveChecked(list, arr);
          updateProgress();
        });
      });
      updateProgress();
      // update tabs a11y/active
      [...tabs.querySelectorAll('button')].forEach(b=>{
        const active = b.dataset.list===list;
        b.classList.toggle('active', active);
        b.setAttribute('aria-selected', active ? 'true' : 'false');
      });
    }

    function updateProgress(){
      const items = LISTS[currentList] || [];
      const done = loadChecked(currentList).length;
      elPC.textContent = done.toString();
      const pct = items.length ? Math.round(100*done/items.length) : 0;
      elBar.value = pct;
      elBar.max = 100;
    }

    tabs.addEventListener('click', e=>{
      const b = e.target.closest('button[data-list]');
      if(!b) return;
      render(b.dataset.list);
    });

    // Share
    shareBtn.addEventListener('click', async ()=>{
      const url = location.href;
      const text = `Join our Autumn Scavenger Hunt (${currentList} list):`;
      if(navigator.share){
        try { await navigator.share({title: document.title, text, url}); }
        catch {}
      } else {
        navigator.clipboard.writeText(url).then(()=>{
          shareBtn.textContent = "Link copied!";
          setTimeout(()=> shareBtn.textContent = "Share This Hunt", 1200);
        });
      }
    });

    // Reset
    resetBtn.addEventListener('click', ()=>{
      if(confirm('Reset your progress for this list?')){
        localStorage.removeItem(keyFor(currentList));
        render(currentList);
      }
    });

    // PWA-ish install prompt
    let deferredPrompt;
    const installBtn = document.getElementById('installBtn');
    window.addEventListener('beforeinstallprompt', (e)=>{
      e.preventDefault();
      deferredPrompt = e;
      installBtn.style.display = 'inline-block';
    });
    installBtn.addEventListener('click', async ()=>{
      if(!deferredPrompt) return;
      deferredPrompt.prompt();
      await deferredPrompt.userChoice;
      deferredPrompt = null;
      installBtn.style.display = 'none';
    });

    // Boot
    render(currentList);
  </script>
</body>
</html>
